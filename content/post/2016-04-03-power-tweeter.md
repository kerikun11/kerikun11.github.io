---
date: "2016-04-03"
title: "電力つぶやきbot"
categories:
  - "作品紹介"
tags:
  - "ソーラー"
  - "ESP-WROOM-02"
  - "ESP8266"
  - "Twitter"
  - "電力"
  - "bot"
  - "Arduino"
thumbnail: "icon.png"
---

## 概要

### 中継型電力計
先日の記事で[ESP-WROOM-02による中継型電力計](/posts/2016-03-23-relay-sensor/)を紹介しましたが、それを使って、電力を自動でつぶやくbotを作りました。

### 何の電力をつぶやくのか

僕の家には[自作の100W級ソーラーシステム](/posts/2014-09-14-solar-system/)があります。このソーラーシステムの発電量を定期的にツイートすることにしました。

{{< postfig src="solar.jpg" title="Solar" width="480px" >}}
<!--more-->

## 見た目

左側の宙に浮いた基板が今回の電力つぶやきbotです。

{{< postfig src="power-tweeter1.jpg" title="Power-Tweeter" width="480px" >}}

拡大

{{< postfig src="power-tweeter2.jpg" title="Power-Tweeter" width="480px" >}}


## 実際のつぶやき

1日に4回つぶやくようにしました。

### 朝8時

【自動】けりの100W級ソーラーシステムは、現在38.4[W]発電中です。本日は、33.38[Wh]発電しました。現在時刻: 2016年3月31日(木)8時0分0秒

{{< postfig src="tweet-8h.png" title="tweet-8h" >}}

### 正午12時

【自動】けりの100W級ソーラーシステムは、現在53.09[W]発電中です。本日は、202.07[Wh]発電しました。現在時刻: 2016年3月31日(木)12時0分0秒

{{< postfig src="tweet-12h.png" title="tweet-12h" >}}

### 夕方16時

【自動】けりの100W級ソーラーシステムは、現在8.79[W]発電中です。本日は、301.88[Wh]発電しました。現在時刻: 2016年3月31日(木)16時0分0秒

{{< postfig src="tweet-16h.png" title="tweet-16h" >}}

### 夜20時

1日のまとめをつぶやく。

【自動】けりの100W級ソーラーシステムは、本日 310.30[Wh]発電しました。昨日に比べて 50.16%増えました。日付: 2016年3月31日(木)

{{< postfig src="tweet-20h.png" title="tweet-20h" >}}

## 大問題発生！！

### 気づいたら止まっている

作る過程で大きな問題に遭遇しました。

取り付けた時には正常に動いているのに、気づくと止まっているのです。

この中継型電力計は、電力を計測する対象から電気をもらいながら電力を計測します。電源いらずでとても便利でした。

しかし今回は計測対象がソーラーなので、夜間や曇った時には電気がなくなって動かなくなってしまうのです！

### 中継型電力計を用いるはずが...

計測対象に挟むだけで計測できる中継型電力計を用いて作ったはずが、外付けの電源が必要になってしまいました。これではスマートじゃありません。

### ということで...

今は、仕方なく外付けの電源を用意して計測をしています。

しかし、今後改良して電気二重層コンデンサなどで昼間に電気をためて夜間使用できるようにしたいと思っています。

そのために、省電力の工夫をしなけばなりません。WiFiって結構電流を消費するので大変です...

## まとめ

### まあ、使える。

手軽に使えて便利！と思いきや、意外な問題にぶち当たってしまいました。

まぁ、外付け電源で使えていますのでとりあえずはよしとしましょう。

### ESP8266はすごい！

今回の工作では流行りのWiFiモジュールESP-WROOM-0(ESP8266)を使用しました。値段はたったの550円！WiFiだけでなくマイコンとしての性能もかなり高く、便利なモジュールです。

電子工作がインターネットにつなげるようになると世界が広がりますね！もっともっといろいろなことに挑戦していきたいです。

{{< postfig src="esp-wroom-02.jpg" title="ESP-WROOM-02" width="240px" >}}

